# SVS Deployment Repository

This repository contains the deployment configuration for the SVS application using Docker Compose and Nginx with SSL support.

## Prerequisites

1.  **Docker** and **Docker Compose** installed on the server.
2.  **SSL Certificates** generated by Let's Encrypt (Certbot) located at `/etc/letsencrypt/live/makemydummytrip.com/`. Use `sudo ls -l /etc/letsencrypt/live/makemydummytrip.com/` to verify.

## Configuration

1.  **Environment Variables**:
    Copy the example file and update it with your production values:
    ```bash
    cp .env.example .env
    nano .env
    ```
    *   Set your Database Credentials (`DB_USER`, `DB_PASSWORD`).
    *   Set your Docker Image tags (`BACKEND_IMAGE`, `FRONTEND_IMAGE`).
    *   Configure Backend specific variables (Mail, JWT, etc.).

## Deployment

To deploy the application, run the deployment script:

```bash
./deploy.sh
```

This script will:
*   Check for the existence of the `.env` file.
*   Pull the latest Docker images.
*   Start the services in detached mode (`-d`).
*   Recreate containers if configuration or images have changed.

## Services

*   **Frontend**: React application serving the UI.
*   **Backend**: Spring Boot API application.
*   **Postgres**: Database service.
*   **Nginx**: Reverse proxy handling SSL termination and routing.
    *   `https://makemydummytrip.com` -> Frontend
    *   `https://makemydummytrip.com/api` -> Backend

## Verification

1.  **Check Containers**:
    ```bash
    docker compose ps
    ```
    Ensure all services (`nginx`, `backend`, `frontend`, `postgres`) are `Up`.

2.  **Check Logs**:
    ```bash
    docker compose logs -f
    ```

3.  **Browser Test**:
    Visit `https://makemydummytrip.com`. You should see the application load securely.
